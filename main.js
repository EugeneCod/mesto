(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._host=e.host,this._token=e.token}var n,r;return n=t,(r=[{key:"_getJsonOrError",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"_getHeaders",value:function(){return{authorization:this._token,"Content-Type":"application/json"}}},{key:"getUserInfo",value:function(){return fetch("".concat(this._host,"/users/me"),{headers:this._getHeaders()}).then(this._getJsonOrError)}},{key:"setUserInfo",value:function(e){return fetch("".concat(this._host,"/users/me"),{method:"PATCH",headers:this._getHeaders(),body:JSON.stringify({name:e.name,about:e.about})}).then(this._getJsonOrError)}},{key:"setAvatar",value:function(e){return fetch("".concat(this._host,"/users/me/avatar "),{method:"PATCH",headers:this._getHeaders(),body:JSON.stringify({avatar:e.avatar})}).then(this._getJsonOrError)}},{key:"getCards",value:function(){return fetch("".concat(this._host,"/cards"),{headers:this._getHeaders()}).then(this._getJsonOrError)}},{key:"addCard",value:function(e){return fetch("".concat(this._host,"/cards"),{method:"POST",headers:this._getHeaders(),body:JSON.stringify({name:e.name,link:e.link})}).then(this._getJsonOrError)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._host,"/cards/").concat(e),{method:"DELETE",headers:this._getHeaders()})}},{key:"toggleLike",value:function(e,t){var n;return n=e?"DELETE":"PUT",fetch("".concat(this._host,"/cards/").concat(t,"/likes"),{method:"".concat(n),headers:this._getHeaders()}).then(this._getJsonOrError)}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){var n=t.config;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=document.querySelector(n.nameSelector),this.about=document.querySelector(n.aboutSelfSelector),this.profileImage=document.querySelector(n.profileImageSelector)}var t,r;return t=e,(r=[{key:"getUserInfo",value:function(){return this.userInfo={name:this.name.textContent,about:this.about.textContent}}},{key:"setUserInfo",value:function(e){this.name.textContent=e.name,this.about.textContent=e.about}},{key:"getUserAvatar",value:function(){return this.profileImage.src}},{key:"setUserAvatar",value:function(e){this.profileImage.src=e.avatar}},{key:"getUserId",value:function(){return this.id}},{key:"setUserId",value:function(e){this.id=e._id}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),o=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),a=document.querySelector(".profile__image"),c=".editing-form",u={cardTemplateSelector:"#card-template",contentTemplateSelector:".elements__element",buttonLikeSelector:".elements__button-like",likesCounterSelector:".elements__likes-counter",buttonDeleteSelector:".elements__button-delete",imageSelector:".elements__image",locationSelector:".elements__location",buttonLikeActiveClass:"elements__button-like_active"};function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=t.popupSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(n),this._popupOpenClass="popup_opened",this.open=this.open.bind(this),this.close=this.close.bind(this),this._handleEscClose=this._handleEscClose.bind(this),this._buttonCLoseElement=this._popupElement.querySelector(".popup__close-button")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add(this._popupOpenClass),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove(this._popupOpenClass),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("mousedown",(function(t){t.target!==t.currentTarget&&t.target!==e._buttonCLoseElement||e.close()}))}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function _(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function a(e){var t,n=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,{popupSelector:n}))._imageElement=t._popupElement.querySelector(".popup__image"),t._captionElement=t._popupElement.querySelector(".popup__image-caption"),t}return t=a,(n=[{key:"open",value:function(e,t){this._imageElement.src=t,this._imageElement.alt=e,this._captionElement.textContent=e,h(m(a.prototype),"open",this).call(this)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function O(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,{popupSelector:n}))._handleFormSubmit=r,t._formElement=t._popupElement.querySelector(c),t._inputList=Array.from(t._formElement.querySelectorAll(".editing-form__input-line")),t._buttonSubmit=t._formElement.querySelector(".editing-form__button"),t._buttonInitialText=t._buttonSubmit.textContent,t.renderLoading=t.renderLoading.bind(w(t)),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputValues={},this._inputList.forEach((function(t){var n=t.value,r=t.name;e._inputValues[r]=n})),this._inputValues}},{key:"setinputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;S(L(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){e._handleFormSubmit(t,e._getInputValues())}))}},{key:"renderLoading",value:function(e){this._buttonSubmit.textContent=e?"Сохранение...":this._buttonInitialText}},{key:"close",value:function(){S(L(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=T(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function q(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,{popupSelector:n}))._formElement=t._popupElement.querySelector(c),t._handleFormSubmit=r,t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;P(A(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._id,e._cardElement)}))}},{key:"open",value:function(e,t){this._cardElement=t,this._id=e,P(A(a.prototype),"open",this).call(this)}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._link=t.link,this._name=t.name,this._arrayOfLikes=t.likes,this._cardId=t._id,this.config=n,this._userId=r,this._cardOwnerId=t.owner._id,this._handleCardClick=o,this._handleDeleteCard=i,this._toggleLikeServer=a}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this.config.cardTemplateSelector).content.querySelector(this.config.contentTemplateSelector).cloneNode(!0)}},{key:"_toggleLike",value:function(){this._buttonLike.classList.toggle(this.config.buttonLikeActiveClass)}},{key:"_setEventListeners",value:function(){var e=this;this._elementImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)})),this._buttonDelete.addEventListener("click",(function(){e._handleDeleteCard(e._cardId,e._element)})),this._buttonLike.addEventListener("click",(function(){e._toggleLikeServer(e._isLiked,e._cardId).then((function(t){e._checkLiked(t.likes),e._toggleLike(),e._setLikesNumber(t.likes)})).catch((function(e){console.log(e)}))}))}},{key:"_setLikesNumber",value:function(e){this._likesCounter.textContent=e.length}},{key:"_checkLiked",value:function(e){var t=this;this._isLiked=e.some((function(e){return e._id===t._userId}))}},{key:"_checkRemoveDelButton",value:function(){this._cardOwnerId!==this._userId&&this._buttonDelete.remove()}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._buttonLike=this._element.querySelector(this.config.buttonLikeSelector),this._buttonDelete=this._element.querySelector(this.config.buttonDeleteSelector),this._elementImage=this._element.querySelector(this.config.imageSelector),this._elementName=this._element.querySelector(this.config.locationSelector),this._likesCounter=this._element.querySelector(this.config.likesCounterSelector),this._setEventListeners(),this._checkRemoveDelButton(),this._checkLiked(this._arrayOfLikes),this._isLiked&&this._toggleLike(),this._elementImage.src=this._link,this._elementImage.alt=this._name,this._elementName.textContent=this._name,this._setLikesNumber(this._arrayOfLikes),this._element}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e,t){"prepend"===t?this._container.prepend(e):"append"===t&&this._container.append(e)}},{key:"renderItem",value:function(e,t){this._renderer(e,t)}},{key:"renderItems",value:function(e,t){var n=this;e.forEach((function(e){n._renderer(e,t)}))}},{key:"deleteItem",value:function(e){e.remove()}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,"_showInputError",(function(e,t){var n=r._formElement.querySelector("".concat(r._spanErrorSelector).concat(e.id));e.classList.add(r._inputErrorClass),n.textContent=t,n.classList.add(r._errorClass)})),H(this,"_hideInputError",(function(e){var t=r._formElement.querySelector("".concat(r._spanErrorSelector).concat(e.id));e.classList.remove(r._inputErrorClass),t.classList.remove(r._errorClass),t.textContent=""})),this._formElement=n,this._inputSelector=t.inputSelector,this._errorSelector=t.errorSelector,this._spanErrorSelector=t.spanErrorSelector,this._submitButtonSelector=t.submitButtonSelector,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._inactiveButtonClass=t.inactiveButtonClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M,z={},$=new t({host:"https://mesto.nomoreparties.co/v1/cohort-47",token:"fecf0c0a-0938-47a0-bc3a-dfac6e5ffd59"}),G=new r({config:{nameSelector:".profile__name",aboutSelfSelector:".profile__about-self",profileImageSelector:".profile__image"}}),K=new b({popupSelector:".popup_contain_picture"}),Q=new C({popupSelector:".popup_contain_edit-profile",handleFormSubmit:function(e,t){e.preventDefault(),Q.renderLoading(!0),$.setUserInfo(t).then((function(e){G.setUserInfo(e),Q.close()})).catch((function(e){return console.log(e)})).finally((function(){Q.renderLoading(!1)}))}}),W=new C({popupSelector:".popup_contain_add-cards",handleFormSubmit:function(e,t){e.preventDefault(),W.renderLoading(!0),$.addCard(t).then((function(e){Z.renderItem(e,"prepend"),W.close()})).catch((function(e){return console.log(e)})).finally((function(){W.renderLoading(!1)}))}}),X=new C({popupSelector:".popup_contain_edit-avatar",handleFormSubmit:function(e,t){e.preventDefault(),X.renderLoading(!0),$.setAvatar(t).then((function(e){G.setUserAvatar(e),X.close()})).catch((function(e){return console.log(e)})).finally((function(){X.renderLoading(!1)}))}}),Y=new B({popupSelector:".popup_contain_confirm",handleFormSubmit:function(e,t){$.deleteCard(e).then((function(){Z.deleteItem(t),Y.close()})).catch((function(e){return console.log(e)}))}}),Z=new V({renderer:function(e,t){var n=G.getUserId(),r=new x(e,u,n,ee,te,ne).generateCard();Z.addItem(r,t)}},".elements"),ee=function(e,t){K.open(e,t)},te=function(e,t){Y.open(e,t)},ne=function(e,t){return $.toggleLike(e,t)};Promise.all([$.getUserInfo(),$.getCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];G.setUserInfo(o),G.setUserAvatar(o),G.setUserId(o),Z.renderItems(i,"append")})).catch((function(e){return console.log("".concat(e," при первичной загрузке данных"))})),o.addEventListener("click",(function(){var e=G.getUserInfo();Q.setinputValues(e),Q.open(),z.editingForm.resetValidation()})),a.addEventListener("click",(function(){X.open(),z["edit-avatar"].resetValidation()})),i.addEventListener("click",(function(){W.open(),z.addCards.resetValidation()})),K.setEventListeners(),Q.setEventListeners(),W.setEventListeners(),Y.setEventListeners(),X.setEventListeners(),M={formSelector:".editing-form",inputSelector:".editing-form__input-line",errorSelector:".editing-form__input-error",spanErrorSelector:".editing-form__input-error_for_",submitButtonSelector:".editing-form__button",inputErrorClass:"editing-form__input-line_type_error",errorClass:"editing-form__input-error_active",inactiveButtonClass:"editing-form__button_inactive"},Array.from(document.querySelectorAll(M.formSelector)).forEach((function(e){var t=new J(M,e),n=e.getAttribute("name");z[n]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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N0IsRUFBZThCLG9CQUNmN0IsRUFBeUI2QixvQkFDekJ4QixFQUFzQndCLG9CQUN0QmpCLEVBQW9CaUIsb0JBQ3BCcEIsRUFBd0JvQixvQkFuREVyTCxFUmpHTSxDQUM5QmUsYUFBYyxnQkFDZGtILGNBQWUsNEJBQ2ZFLGNBQWUsNkJBQ2ZDLGtCQUFtQixrQ0FDbkJFLHFCQUFzQix3QkFDdEJDLGdCQUFpQixzQ0FDakJDLFdBQVksbUNBQ1pFLG9CQUFxQixpQ1EwRkp0RixNQUFNQyxLQUFLcEQsU0FBU3FELGlCQUFpQnRELEVBQU9lLGVBQ3BENEMsU0FBUSxTQUFDK0QsR0FDaEIsSUFBTTRELEVBQVksSUFBSTdELEVBQWN6SCxFQUFRMEgsR0FDdEM2RCxFQUFXN0QsRUFBWThELGFBQWEsUUFFMUNuQyxFQUFla0MsR0FBWUQsRUFDM0JBLEVBQVVHLGtCQUNYLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWdBcGkpIHtcclxuICAgIHRoaXMuX2hvc3QgPSBjb25maWdBcGkuaG9zdDtcclxuICAgIHRoaXMuX3Rva2VuID0gY29uZmlnQXBpLnRva2VuO1xyXG4gIH1cclxuXHJcbiAgX2dldEpzb25PckVycm9yKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SGVhZGVycygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2hvc3R9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBhYm91dDogZGF0YS5hYm91dFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9ob3N0fS91c2Vycy9tZS9hdmF0YXIgYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKCksXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogZGF0YS5saW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2hvc3R9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycygpLFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHRvZ2dsZUxpa2UoaXNMaWtlZCwgY2FyZElkKSB7XHJcbiAgICBsZXQgbWV0aG9kO1xyXG4gICAgaWYgKGlzTGlrZWQpIHtcclxuICAgICAgbWV0aG9kID0gJ0RFTEVURSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtZXRob2QgPSAnUFVUJ1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2hvc3R9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBgJHttZXRob2R9YCxcclxuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycygpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnIH0pIHtcclxuICAgIHRoaXMubmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLm5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuYWJvdXRTZWxmU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5wcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5wcm9maWxlSW1hZ2VTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB0aGlzLnVzZXJJbmZvID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLm5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLmFib3V0LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHRoaXMubmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuYWJvdXQudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckF2YXRhcigpIHtcclxuICAgIHJldHVybiB0aGlzLnByb2ZpbGVJbWFnZS5zcmM7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcclxuICAgIHRoaXMucHJvZmlsZUltYWdlLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlcklkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySWQoZGF0YSkge1xyXG4gICAgdGhpcy5pZCA9IGRhdGEuX2lkO1xyXG4gIH1cclxufVxyXG5cclxuIiwiZXhwb3J0IGNvbnN0IG9wZW5FZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3Qgb3BlbkFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbWFnZScpO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY29uc3QgY2FyZENvbnRhaW5lclNlbGVjdG9yID0gJy5lbGVtZW50cyc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlU2VsZWN0b3IgPSAnLnBvcHVwX19pbWFnZSc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlQ2FwdGlvblNlbGVjdG9yID0gJy5wb3B1cF9faW1hZ2UtY2FwdGlvbic7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFdpdGhJbWFnZVNlbGVjdG9yID0gJy5wb3B1cF9jb250YWluX3BpY3R1cmUnO1xyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0UHJvZmlsZVNlbGVjdG9yID0gJy5wb3B1cF9jb250YWluX2VkaXQtcHJvZmlsZSc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRBdmF0YXJTZWxlY3RvciA9ICcucG9wdXBfY29udGFpbl9lZGl0LWF2YXRhcic7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZENhcmRzU2VsZWN0b3IgPSAnLnBvcHVwX2NvbnRhaW5fYWRkLWNhcmRzJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwV2l0aENvbmZpcm1TZWxlY3RvciA9ICcucG9wdXBfY29udGFpbl9jb25maXJtJztcclxuZXhwb3J0IGNvbnN0IGZvcm1TZWxlY3RvciA9ICcuZWRpdGluZy1mb3JtJztcclxuZXhwb3J0IGNvbnN0IGlucHV0U2VsZWN0b3IgPSAnLmVkaXRpbmctZm9ybV9faW5wdXQtbGluZSc7XHJcbmV4cG9ydCBjb25zdCBidXR0b25TdWJtaXRTZWxlY3RvciA9ICcuZWRpdGluZy1mb3JtX19idXR0b24nO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWdQcm9maWxlID0ge1xyXG4gIG5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJyxcclxuICBhYm91dFNlbGZTZWxlY3RvcjogJy5wcm9maWxlX19hYm91dC1zZWxmJyxcclxuICBwcm9maWxlSW1hZ2VTZWxlY3RvcjogJy5wcm9maWxlX19pbWFnZScsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWdDYXJkID0ge1xyXG4gIGNhcmRUZW1wbGF0ZVNlbGVjdG9yOiAnI2NhcmQtdGVtcGxhdGUnLFxyXG4gIGNvbnRlbnRUZW1wbGF0ZVNlbGVjdG9yOiAnLmVsZW1lbnRzX19lbGVtZW50JyxcclxuICBidXR0b25MaWtlU2VsZWN0b3I6ICcuZWxlbWVudHNfX2J1dHRvbi1saWtlJyxcclxuICBsaWtlc0NvdW50ZXJTZWxlY3RvcjogJy5lbGVtZW50c19fbGlrZXMtY291bnRlcicsXHJcbiAgYnV0dG9uRGVsZXRlU2VsZWN0b3I6ICcuZWxlbWVudHNfX2J1dHRvbi1kZWxldGUnLFxyXG4gIGltYWdlU2VsZWN0b3I6ICcuZWxlbWVudHNfX2ltYWdlJyxcclxuICBsb2NhdGlvblNlbGVjdG9yOiAnLmVsZW1lbnRzX19sb2NhdGlvbicsXHJcbiAgYnV0dG9uTGlrZUFjdGl2ZUNsYXNzOiAnZWxlbWVudHNfX2J1dHRvbi1saWtlX2FjdGl2ZScsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWdBcGkgPSB7XHJcbiAgaG9zdDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDcnLFxyXG4gIHRva2VuOiAnZmVjZjBjMGEtMDkzOC00N2EwLWJjM2EtZGZhYzZlNWZmZDU5J1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnVmFsaWRhdGlvbiA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcuZWRpdGluZy1mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLmVkaXRpbmctZm9ybV9faW5wdXQtbGluZScsXHJcbiAgZXJyb3JTZWxlY3RvcjogJy5lZGl0aW5nLWZvcm1fX2lucHV0LWVycm9yJyxcclxuICBzcGFuRXJyb3JTZWxlY3RvcjogJy5lZGl0aW5nLWZvcm1fX2lucHV0LWVycm9yX2Zvcl8nLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmVkaXRpbmctZm9ybV9fYnV0dG9uJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdlZGl0aW5nLWZvcm1fX2lucHV0LWxpbmVfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JDbGFzczogJ2VkaXRpbmctZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZWRpdGluZy1mb3JtX19idXR0b25faW5hY3RpdmUnLFxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yfSkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwT3BlbkNsYXNzID0gJ3BvcHVwX29wZW5lZCc7XHJcbiAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcclxuICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9idXR0b25DTG9zZUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idXR0b24nKVxyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3BvcHVwT3BlbkNsYXNzKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3BvcHVwT3BlbkNsYXNzKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIFxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldnQgPT4ge1xyXG4gICAgICBpZiAoKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KVxyXG4gICAgICAgIHx8IChldnQudGFyZ2V0ID09PSB0aGlzLl9idXR0b25DTG9zZUVsZW1lbnQpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQge3BvcHVwSW1hZ2VTZWxlY3RvciwgcG9wdXBJbWFnZUNhcHRpb25TZWxlY3Rvcn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJ1xyXG5pbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7cG9wdXBTZWxlY3Rvcn0pIHtcclxuICAgIHN1cGVyKHtwb3B1cFNlbGVjdG9yfSk7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cEltYWdlU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2FwdGlvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cEltYWdlQ2FwdGlvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2NhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBmb3JtU2VsZWN0b3IsIGlucHV0U2VsZWN0b3IsIGJ1dHRvblN1Ym1pdFNlbGVjdG9yfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0fSkge1xyXG4gICAgc3VwZXIoe3BvcHVwU2VsZWN0b3J9KTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGlucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX2J1dHRvblN1Ym1pdCA9ICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGJ1dHRvblN1Ym1pdFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2J1dHRvbkluaXRpYWxUZXh0ID0gdGhpcy5fYnV0dG9uU3VibWl0LnRleHRDb250ZW50O1xyXG4gICAgdGhpcy5yZW5kZXJMb2FkaW5nID0gdGhpcy5yZW5kZXJMb2FkaW5nLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCBpbnB1dFZhbHVlID0gaW5wdXRFbGVtZW50LnZhbHVlO1xyXG4gICAgICBjb25zdCBpbnB1dE5hbWUgPSBpbnB1dEVsZW1lbnQubmFtZTtcclxuICAgICAgdGhpcy5faW5wdXRWYWx1ZXNbaW5wdXROYW1lXSA9IGlucHV0VmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldGlucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gZGF0YVtpbnB1dEVsZW1lbnQubmFtZV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdChldnQsIHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9idXR0b25TdWJtaXQudGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uU3VibWl0LnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uSW5pdGlhbFRleHQ7XHJcbiAgICB9XHJcbiAgfSBcclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBmb3JtU2VsZWN0b3IgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9pZCwgdGhpcy5fY2FyZEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvcGVuKGlkLCBjYXJkRWxlbWVudCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcclxuICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoaXRlbSwgY29uZmlnQ2FyZCwgdXNlcklkLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUNhcmQsIHRvZ2dsZUxpa2VTZXJ2ZXIpIHtcclxuICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbms7XHJcbiAgICB0aGlzLl9uYW1lID0gaXRlbS5uYW1lO1xyXG4gICAgdGhpcy5fYXJyYXlPZkxpa2VzID0gaXRlbS5saWtlcztcclxuICAgIHRoaXMuX2NhcmRJZCA9IGl0ZW0uX2lkO1xyXG4gICAgdGhpcy5jb25maWcgPSBjb25maWdDYXJkXHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9jYXJkT3duZXJJZCA9IGl0ZW0ub3duZXIuX2lkO1xyXG4gICAgXHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICAgIHRoaXMuX3RvZ2dsZUxpa2VTZXJ2ZXIgPSB0b2dnbGVMaWtlU2VydmVyO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5jYXJkVGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5jb25maWcuY29udGVudFRlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUxpa2UoKSB7XHJcbiAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC50b2dnbGUodGhpcy5jb25maWcuYnV0dG9uTGlrZUFjdGl2ZUNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2NhcmRJZCwgdGhpcy5fZWxlbWVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9idXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl90b2dnbGVMaWtlU2VydmVyKHRoaXMuX2lzTGlrZWQsIHRoaXMuX2NhcmRJZClcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fY2hlY2tMaWtlZChkYXRhLmxpa2VzKTtcclxuICAgICAgICAgIHRoaXMuX3RvZ2dsZUxpa2UoKTtcclxuICAgICAgICAgIHRoaXMuX3NldExpa2VzTnVtYmVyKGRhdGEubGlrZXMpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4geyBjb25zb2xlLmxvZyhlcnIpIH0pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zZXRMaWtlc051bWJlcihhcnIpIHtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IGFyci5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tMaWtlZChhcnJheSkge1xyXG4gICAgdGhpcy5faXNMaWtlZCA9IGFycmF5LnNvbWUoKGl0ZW0pID0+IHtcclxuICAgICAgcmV0dXJuIGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9jaGVja1JlbW92ZURlbEJ1dHRvbigpIHtcclxuICAgIGlmICh0aGlzLl9jYXJkT3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5yZW1vdmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5idXR0b25MaWtlU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuY29uZmlnLmJ1dHRvbkRlbGV0ZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5pbWFnZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2VsZW1lbnROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuY29uZmlnLmxvY2F0aW9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuY29uZmlnLmxpa2VzQ291bnRlclNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fY2hlY2tSZW1vdmVEZWxCdXR0b24oKTtcclxuICAgIHRoaXMuX2NoZWNrTGlrZWQodGhpcy5fYXJyYXlPZkxpa2VzKTtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7IHRoaXMuX3RvZ2dsZUxpa2UoKSB9O1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3NldExpa2VzTnVtYmVyKHRoaXMuX2FycmF5T2ZMaWtlcyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50LCBtZXRob2QpIHtcclxuICAgIGlmIChtZXRob2QgPT09ICdwcmVwZW5kJykge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSAnYXBwZW5kJykge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtKGl0ZW0sIG1ldGhvZCkgeyBcclxuICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0sIG1ldGhvZCk7XHJcbn1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMsIG1ldGhvZCkge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtLCBtZXRob2QpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVJdGVtKGVsZW1lbnQpIHtcclxuICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBkYXRhLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9lcnJvclNlbGVjdG9yID0gZGF0YS5lcnJvclNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3BhbkVycm9yU2VsZWN0b3IgPSBkYXRhLnNwYW5FcnJvclNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBkYXRhLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gZGF0YS5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gZGF0YS5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGRhdGEuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheVxyXG4gICAgICAuZnJvbSh0aGlzLl9mb3JtRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8g0YHQsdGA0L7RgSDQvtGI0LjQsdC+0LpcclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g0L/QvtC60LDQt9Cw0YLRjCDQvtGI0LjQsdC60YNcclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fc3BhbkVycm9yU2VsZWN0b3J9JHtpbnB1dEVsZW1lbnQuaWR9YCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgLy8g0YHQutGA0YvRgtGMINC+0YjQuNCx0LrRg1xyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fc3BhbkVycm9yU2VsZWN0b3J9JHtpbnB1dEVsZW1lbnQuaWR9YCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICB9O1xyXG5cclxuICAvLyDQv9GA0L7QstC10YDQuNGC0Ywg0LLQsNC70LjQtNC90L7RgdGC0Ywg0L/QvtC70Y8g0LLQstC+0LTQsFxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vINC/0YDQvtCy0LXRgNC40YLRjCDQstCw0LvQuNC00L3QvtGB0YLRjCDQvNCw0YHRgdC40LLQsCDQv9C+0LvQtdC5INCy0LLQvtC00LBcclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKGlucHV0RWxlbWVudCA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDQsNC60YLQuNCy0LDRhtC40Y8g0Lgg0LTQtdC30LDQutGC0LjQstCw0YbQuNGPINC60L3QvtC/0LrQuCDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80YtcclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0LTQvtCx0LDQstC40YLRjCDRgdC70YPRiNCw0YLQtdC70Lgg0LLQstC+0LTQsFxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vINCw0LrRgtC40LLQuNGA0L7QstGC0Ywg0LLQsNC70LjQtNCw0YbQuNGOXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0ICcuL2luZGV4LmNzcydcclxuaW1wb3J0IEFwaSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcy5qcydcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuXHJcbmltcG9ydCB7XHJcbiAgb3BlbkVkaXRQcm9maWxlQnV0dG9uLFxyXG4gIG9wZW5BZGRDYXJkQnV0dG9uLFxyXG4gIGF2YXRhckVsZW1lbnQsXHJcbiAgY29uZmlnVmFsaWRhdGlvbixcclxuICBjb25maWdBcGksXHJcbiAgY29uZmlnQ2FyZCxcclxuICBjb25maWdQcm9maWxlLFxyXG4gIGNhcmRDb250YWluZXJTZWxlY3RvcixcclxuICBwb3B1cFdpdGhJbWFnZVNlbGVjdG9yLFxyXG4gIHBvcHVwRWRpdFByb2ZpbGVTZWxlY3RvcixcclxuICBwb3B1cEVkaXRBdmF0YXJTZWxlY3RvcixcclxuICBwb3B1cEFkZENhcmRzU2VsZWN0b3IsXHJcbiAgcG9wdXBXaXRoQ29uZmlybVNlbGVjdG9yLFxyXG59IGZyb20gJy4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge31cclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoY29uZmlnQXBpKTtcclxuXHJcbi8vINGN0LrQty4g0LrQu9Cw0YHRgdCwINC40L3RhNC+0YDQvNCw0YbRhtC40Lgg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIGNvbmZpZzogY29uZmlnUHJvZmlsZSxcclxufSk7XHJcblxyXG4vLyDRjdC60LcuINC60LvQsNGB0YHQsCDQvtC60L3QsCDQv9GA0L7RgdC80L7RgtGA0LAg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHsgcG9wdXBTZWxlY3RvcjogcG9wdXBXaXRoSW1hZ2VTZWxlY3RvciB9KTtcclxuXHJcbi8vINGN0LrQty4g0LrQu9Cw0YHRgdCwINC+0LrQvdCwINGBINGE0L7RgNC80L7QuSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGV2dCwgZm9ybURhdGEpID0+IHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgcG9wdXBXaXRoRm9ybUVkaXRQcm9maWxlLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGkuc2V0VXNlckluZm8oZm9ybURhdGEpXHJcbiAgICAudGhlbigoanNvbkRhdGEpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oanNvbkRhdGEpO1xyXG4gICAgICBwb3B1cFdpdGhGb3JtRWRpdFByb2ZpbGUuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAuZmluYWxseSgoKT0+IHtcclxuICAgICAgcG9wdXBXaXRoRm9ybUVkaXRQcm9maWxlLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSlcclxuICB9XHJcbn0pO1xyXG5cclxuLy8g0Y3QutC3LiDQutC70LDRgdGB0LAg0L7QutC90LAg0YEg0YTQvtGA0LzQvtC5INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C10LpcclxuY29uc3QgcG9wdXBXaXRoRm9ybUFkZENhcmRzID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IHBvcHVwQWRkQ2FyZHNTZWxlY3RvcixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZXZ0LCBmb3JtRGF0YSkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBwb3B1cFdpdGhGb3JtQWRkQ2FyZHMucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgIGFwaS5hZGRDYXJkKGZvcm1EYXRhKVxyXG4gICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7XHJcbiAgICAgIGNhcmRMaXN0LnJlbmRlckl0ZW0oanNvbkRhdGEsICdwcmVwZW5kJyk7XHJcbiAgICAgIHBvcHVwV2l0aEZvcm1BZGRDYXJkcy5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpPT4ge1xyXG4gICAgICBwb3B1cFdpdGhGb3JtQWRkQ2FyZHMucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KVxyXG4gIH1cclxufSk7XHJcbiAgICBcclxuXHJcbi8vINGN0LrQty4g0LrQu9Cw0YHRgdCwINC+0LrQvdCwINGBINGE0L7RgNC80L7QuSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmNvbnN0IHBvcHVwV2l0aEZvcm1FZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IHBvcHVwRWRpdEF2YXRhclNlbGVjdG9yLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChldnQsIGZvcm1EYXRhKSA9PiB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHBvcHVwV2l0aEZvcm1FZGl0QXZhdGFyLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGkuc2V0QXZhdGFyKGZvcm1EYXRhKVxyXG4gICAgLnRoZW4oKGpzb25EYXRhKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoanNvbkRhdGEpO1xyXG4gICAgICBwb3B1cFdpdGhGb3JtRWRpdEF2YXRhci5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpPT4ge1xyXG4gICAgICBwb3B1cFdpdGhGb3JtRWRpdEF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0pXHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINGN0LrQty4g0LrQu9Cw0YHRgdCwINC+0LrQvdCwINGBINC/0L7QtNGC0LLQtdGA0LbQtdC90LjQtdC8INGD0LTQsNC70LXQvdC40Y9cclxuY29uc3QgcG9wdXBXaXRoQ29uZmlybURlbCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IHBvcHVwV2l0aENvbmZpcm1TZWxlY3RvcixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoY2FyZElkLCBlbGVtZW50KSA9PiB7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjYXJkTGlzdC5kZWxldGVJdGVtKGVsZW1lbnQpO1xyXG4gICAgICAgIHBvcHVwV2l0aENvbmZpcm1EZWwuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gIH1cclxufSk7XHJcblxyXG4vLyDRjdC60LcuINC60LvQsNGB0YHQsCBTZWN0aW9uINC00LvRjyDQvtGC0YDQuNGB0L7QstC60Lgg0LrQsNGA0YLQvtGH0LXQulxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcclxuICByZW5kZXJlcjogKGl0ZW0sIG1ldGhvZCkgPT4ge1xyXG4gICAgY29uc3QgdXNlcklkID0gdXNlckluZm8uZ2V0VXNlcklkKCk7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICAgIGl0ZW0sXHJcbiAgICAgIGNvbmZpZ0NhcmQsXHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgaGFuZGxlQ2FyZENsaWNrLFxyXG4gICAgICBoYW5kbGVEZWxldGVDYXJkLFxyXG4gICAgICBoYW5kbGVCdG5MaWtlKTtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQsIG1ldGhvZCk7XHJcbiAgfVxyXG59LCBjYXJkQ29udGFpbmVyU2VsZWN0b3IpO1xyXG5cclxuLy8g0L7QsdGA0LDQsdC+0YLQsNGC0Ywg0LrQu9C40Log0L/QviDQuNC30L7QsdGA0LDQttC10L3QuNGOINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKG5hbWUsIGxpbmspID0+IHtcclxuICBwb3B1cFdpdGhJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xyXG59XHJcblxyXG4vLyDQvtCx0YDQsNCx0L7RgtCw0YLRjCDQutC70LjQuiDQv9C+INC40LrQvtC90LrQtSDRg9C00LDQu9C10L3QuNGPXHJcbmNvbnN0IGhhbmRsZURlbGV0ZUNhcmQgPSAoY2FyZElkLCBjYXJkRWxlbWVudCkgPT4ge1xyXG4gIHBvcHVwV2l0aENvbmZpcm1EZWwub3BlbihjYXJkSWQsIGNhcmRFbGVtZW50KTtcclxufVxyXG5cclxuLy8g0L7QsdGA0LDQsdC+0YLQsNGC0Ywg0LrQu9C40Log0L/QviDQuNC60L7QvdC60LUg0LvQsNC50LrQsFxyXG5jb25zdCBoYW5kbGVCdG5MaWtlID0gKGNhcmRJZCwgaXNMaWtlZCkgPT4ge1xyXG4gIHJldHVybiBhcGkudG9nZ2xlTGlrZShjYXJkSWQsIGlzTGlrZWQpO1xyXG59XHJcblxyXG4vLyDQstC60LvRjtGH0LjRgtGMINCy0LvQuNC00LDRhtC40Y4g0LTQu9GPINCy0YHQtdGFINGE0L7RgNC8XHJcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpXHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpXHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xyXG5cclxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcclxuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vINC30LDQs9GA0YPQt9C40YLRjCDQuCDQvtGC0L7QsdGA0LDQt9C40YLRjCDQtNCw0L3QvdGL0LUg0L/RgNC+0YTQuNC70Y8g0Lgg0LrQsNGA0YLQvtGH0LrQuFxyXG5Qcm9taXNlLmFsbChbXHJcbiAgYXBpLmdldFVzZXJJbmZvKCksXHJcbiAgYXBpLmdldENhcmRzKCksXHJcbl0pXHJcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNEYXRhXSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YSk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySWQodXNlckRhdGEpO1xyXG5cclxuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmRzRGF0YSwgJ2FwcGVuZCcpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhgJHtlcnJ9INC/0YDQuCDQv9C10YDQstC40YfQvdC+0Lkg0LfQsNCz0YDRg9C30LrQtSDQtNCw0L3QvdGL0YVgKSk7XHJcblxyXG4vLyAqLS0tLS0tLS0tLS0tLS0tLS0tLdCh0LvRg9GI0LDRgtC10LvQuCDRgdC+0LHRi9GC0LjQuS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyDQvtGC0LrRgNGL0YLQuNC1INGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5vcGVuRWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgY29uc3QgZGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgcG9wdXBXaXRoRm9ybUVkaXRQcm9maWxlLnNldGlucHV0VmFsdWVzKGRhdGEpO1xyXG4gIHBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZS5vcGVuKCk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbJ2VkaXRpbmdGb3JtJ10ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuLy8g0L7RgtC60YDRi9GC0LjQtSDRhNC+0YDQvNGLINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuYXZhdGFyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cFdpdGhGb3JtRWRpdEF2YXRhci5vcGVuKClcclxuICBmb3JtVmFsaWRhdG9yc1snZWRpdC1hdmF0YXInXS5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG4vLyDQvtGC0LrRgNGL0YLQuNC1INGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LXQulxyXG5vcGVuQWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cFdpdGhGb3JtQWRkQ2FyZHMub3BlbigpXHJcbiAgZm9ybVZhbGlkYXRvcnNbJ2FkZENhcmRzJ10ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBXaXRoRm9ybUVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwV2l0aEZvcm1BZGRDYXJkcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFdpdGhDb25maXJtRGVsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwV2l0aEZvcm1FZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmVuYWJsZVZhbGlkYXRpb24oY29uZmlnVmFsaWRhdGlvbik7Il0sIm5hbWVzIjpbIkFwaSIsImNvbmZpZ0FwaSIsInRoaXMiLCJfaG9zdCIsImhvc3QiLCJfdG9rZW4iLCJ0b2tlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJhdXRob3JpemF0aW9uIiwiZmV0Y2giLCJoZWFkZXJzIiwiX2dldEhlYWRlcnMiLCJ0aGVuIiwiX2dldEpzb25PckVycm9yIiwiZGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsImFib3V0IiwiYXZhdGFyIiwibGluayIsImNhcmRJZCIsImlzTGlrZWQiLCJVc2VySW5mbyIsImNvbmZpZyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZlNlbGVjdG9yIiwicHJvZmlsZUltYWdlIiwicHJvZmlsZUltYWdlU2VsZWN0b3IiLCJ1c2VySW5mbyIsInRleHRDb250ZW50Iiwic3JjIiwiaWQiLCJfaWQiLCJvcGVuRWRpdFByb2ZpbGVCdXR0b24iLCJvcGVuQWRkQ2FyZEJ1dHRvbiIsImF2YXRhckVsZW1lbnQiLCJmb3JtU2VsZWN0b3IiLCJjb25maWdDYXJkIiwiY2FyZFRlbXBsYXRlU2VsZWN0b3IiLCJjb250ZW50VGVtcGxhdGVTZWxlY3RvciIsImJ1dHRvbkxpa2VTZWxlY3RvciIsImxpa2VzQ291bnRlclNlbGVjdG9yIiwiYnV0dG9uRGVsZXRlU2VsZWN0b3IiLCJpbWFnZVNlbGVjdG9yIiwibG9jYXRpb25TZWxlY3RvciIsImJ1dHRvbkxpa2VBY3RpdmVDbGFzcyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfcG9wdXBPcGVuQ2xhc3MiLCJvcGVuIiwiYmluZCIsImNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2J1dHRvbkNMb3NlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlRWxlbWVudCIsIl9jYXB0aW9uRWxlbWVudCIsImFsdCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25TdWJtaXQiLCJfYnV0dG9uSW5pdGlhbFRleHQiLCJyZW5kZXJMb2FkaW5nIiwiX2lucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsImlucHV0VmFsdWUiLCJ2YWx1ZSIsImlucHV0TmFtZSIsIl9nZXRJbnB1dFZhbHVlcyIsImlzTG9hZGluZyIsInJlc2V0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwicHJldmVudERlZmF1bHQiLCJfY2FyZEVsZW1lbnQiLCJjYXJkRWxlbWVudCIsIkNhcmQiLCJpdGVtIiwidXNlcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsInRvZ2dsZUxpa2VTZXJ2ZXIiLCJfbGluayIsIl9uYW1lIiwiX2FycmF5T2ZMaWtlcyIsImxpa2VzIiwiX2NhcmRJZCIsIl91c2VySWQiLCJfY2FyZE93bmVySWQiLCJvd25lciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl90b2dnbGVMaWtlU2VydmVyIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9idXR0b25MaWtlIiwidG9nZ2xlIiwiX2VsZW1lbnRJbWFnZSIsIl9idXR0b25EZWxldGUiLCJfZWxlbWVudCIsIl9pc0xpa2VkIiwiX2NoZWNrTGlrZWQiLCJfdG9nZ2xlTGlrZSIsIl9zZXRMaWtlc051bWJlciIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImFyciIsIl9saWtlc0NvdW50ZXIiLCJsZW5ndGgiLCJhcnJheSIsInNvbWUiLCJfZ2V0VGVtcGxhdGUiLCJfZWxlbWVudE5hbWUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2hlY2tSZW1vdmVEZWxCdXR0b24iLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsImFwcGVuZCIsIml0ZW1zIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX3NwYW5FcnJvclNlbGVjdG9yIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX2Vycm9yU2VsZWN0b3IiLCJlcnJvclNlbGVjdG9yIiwic3BhbkVycm9yU2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfYnV0dG9uRWxlbWVudCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9oaWRlSW5wdXRFcnJvciIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJmb3JtVmFsaWRhdG9ycyIsImFwaSIsInBvcHVwV2l0aEltYWdlIiwicG9wdXBXaXRoRm9ybUVkaXRQcm9maWxlIiwiZm9ybURhdGEiLCJzZXRVc2VySW5mbyIsImpzb25EYXRhIiwiZmluYWxseSIsInBvcHVwV2l0aEZvcm1BZGRDYXJkcyIsImFkZENhcmQiLCJjYXJkTGlzdCIsInJlbmRlckl0ZW0iLCJwb3B1cFdpdGhGb3JtRWRpdEF2YXRhciIsInNldEF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJwb3B1cFdpdGhDb25maXJtRGVsIiwiZGVsZXRlQ2FyZCIsImRlbGV0ZUl0ZW0iLCJnZXRVc2VySWQiLCJoYW5kbGVCdG5MaWtlIiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInRvZ2dsZUxpa2UiLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldENhcmRzIiwidXNlckRhdGEiLCJjYXJkc0RhdGEiLCJzZXRVc2VySWQiLCJyZW5kZXJJdGVtcyIsInNldGlucHV0VmFsdWVzIiwicmVzZXRWYWxpZGF0aW9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9