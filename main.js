(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._host=e.host,this._token=e.token}var n,r;return n=t,(r=[{key:"_getJsonOrError",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"_getHeaders",value:function(){return{authorization:this._token,"Content-Type":"application/json"}}},{key:"getUserInfo",value:function(){return fetch("".concat(this._host,"/users/me"),{headers:this._getHeaders()}).then(this._getJsonOrError)}},{key:"setUserInfo",value:function(e){return fetch("".concat(this._host,"/users/me"),{method:"PATCH",headers:this._getHeaders(),body:JSON.stringify({name:e.name,about:e.about})}).then(this._getJsonOrError)}},{key:"setAvatar",value:function(e){return fetch("".concat(this._host,"/users/me/avatar "),{method:"PATCH",headers:this._getHeaders(),body:JSON.stringify({avatar:e.avatar})}).then(this._getJsonOrError)}},{key:"getCards",value:function(){return fetch("".concat(this._host,"/cards"),{headers:this._getHeaders()}).then(this._getJsonOrError)}},{key:"addCard",value:function(e){return fetch("".concat(this._host,"/cards"),{method:"POST",headers:this._getHeaders(),body:JSON.stringify({name:e.name,link:e.link})}).then(this._getJsonOrError)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._host,"/cards/").concat(e),{method:"DELETE",headers:this._getHeaders()})}},{key:"toggleLike",value:function(e,t){var n;return n=e?"DELETE":"PUT",fetch("".concat(this._host,"/cards/").concat(t,"/likes"),{method:"".concat(n),headers:this._getHeaders()}).then(this._getJsonOrError)}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){var n=t.config,r=t.fetchUserInfo,o=t.fetchUserAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=document.querySelector(n.nameSelector),this.about=document.querySelector(n.aboutSelfSelector),this.profileImage=document.querySelector(n.profileImageSelector),this.fetchUserInfo=r,this.fetchUserAvatar=o}var t,r;return t=e,(r=[{key:"getUserInfo",value:function(){return this.userInfo={name:this.name.textContent,about:this.about.textContent}}},{key:"setUserInfoOnClient",value:function(e){this.name.textContent=e.name,this.about.textContent=e.about}},{key:"setUserInfoOnServer",value:function(e){var t=this;return this.fetchUserInfo(e).then((function(e){t.setUserInfoOnClient(e)})).catch((function(e){return console.log(e)}))}},{key:"getUserAvatar",value:function(){return this.profileImage.src}},{key:"setUserAvatarOnClient",value:function(e){this.profileImage.src=e.avatar}},{key:"setUserAvatarOnServer",value:function(e){var t=this;return this.fetchUserAvatar(e).then((function(e){t.setUserAvatarOnClient(e)})).catch((function(e){return console.log(e)}))}},{key:"getUserId",value:function(){return this.id}},{key:"setUserId",value:function(e){this.id=e._id}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),o=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),c=document.querySelector(".profile__image"),u=".editing-form",a={cardTemplateSelector:"#card-template",contentTemplateSelector:".elements__element",buttonLikeSelector:".elements__button-like",likesCounterSelector:".elements__likes-counter",buttonDeleteSelector:".elements__button-delete",imageSelector:".elements__image",locationSelector:".elements__location",buttonLikeActiveClass:"elements__button-like_active"};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n=t.popupSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(n),this._popupOpenClass="popup_opened",this.open=this.open.bind(this),this.close=this.close.bind(this),this._handleEscClose=this._handleEscClose.bind(this),this._buttonCLoseElement=this._popupElement.querySelector(".popup__close-button")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add(this._popupOpenClass),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove(this._popupOpenClass),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("mousedown",(function(t){t.target!==t.currentTarget&&t.target!==e._buttonCLoseElement||e.close()}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function y(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function c(e){var t,n=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,{popupSelector:n}))._imageElement=t._popupElement.querySelector(".popup__image"),t._captionElement=t._popupElement.querySelector(".popup__image-caption"),t}return t=c,(n=[{key:"open",value:function(e,t){this._imageElement.src=t,this._imageElement.alt=e,this._captionElement.textContent=e,h(m(c.prototype),"open",this).call(this)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(l);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function O(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function c(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,{popupSelector:n}))._handleFormSubmit=r,t._formElement=t._popupElement.querySelector(u),t._inputList=Array.from(t._formElement.querySelectorAll(".editing-form__input-line")),t._buttonSubmit=t._formElement.querySelector(".editing-form__button"),t._buttonInitialText=t._buttonSubmit.textContent,t}return t=c,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputValues={},this._inputList.forEach((function(t){var n=t.value,r=t.name;e._inputValues[r]=n})),this._inputValues}},{key:"setinputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;S(w(c.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e.renderLoading(!0),new Promise((function(t,n){e._handleFormSubmit(e._getInputValues()).then((function(){e.renderLoading(!1)})).catch((function(e){return console.log(e)})).finally((function(){e.close()}))}))}))}},{key:"renderLoading",value:function(e){this._buttonSubmit.textContent=e?"Сохранение...":this._buttonInitialText}},{key:"close",value:function(){S(w(c.prototype),"close",this).call(this),this._formElement.reset()}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(l);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},j.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function U(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function c(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,{popupSelector:n}))._formElement=t._popupElement.querySelector(u),t._handleFormSubmit=r,t}return t=c,(n=[{key:"setEventListeners",value:function(){var e=this;j(R(c.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._id,e._cardElement),e.close()}))}},{key:"open",value:function(e,t){this._cardElement=t,this._id=e,j(R(c.prototype),"open",this).call(this)}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(l);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t,n,r,o,i,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._link=t.link,this._name=t.name,this._arrayOfLikes=t.likes,this._cardId=t._id,this.config=n,this._userId=r,this._cardOwnerId=t.owner._id,this._handleCardClick=o,this._handleDeleteCard=i,this._toggleLikeServer=c}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this.config.cardTemplateSelector).content.querySelector(this.config.contentTemplateSelector).cloneNode(!0)}},{key:"_toggleLike",value:function(){this._buttonLike.classList.toggle(this.config.buttonLikeActiveClass)}},{key:"_setEventListeners",value:function(){var e=this;this._elementImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)})),this._buttonDelete.addEventListener("click",(function(){e._handleDeleteCard(e._cardId,e._element)})),this._buttonLike.addEventListener("click",(function(){e._toggleLikeServer(e._isLiked,e._cardId).then((function(t){e._checkLiked(t.likes),e._toggleLike(),e._setLikesNumber(t.likes)})).catch((function(e){console.log(e)}))}))}},{key:"_setLikesNumber",value:function(e){this._likesCounter.textContent=e.length}},{key:"_checkLiked",value:function(e){var t=this;this._isLiked=e.some((function(e){return e._id===t._userId}))}},{key:"_checkRemoveDelButton",value:function(){this._cardOwnerId!==this._userId&&this._buttonDelete.remove()}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._buttonLike=this._element.querySelector(this.config.buttonLikeSelector),this._buttonDelete=this._element.querySelector(this.config.buttonDeleteSelector),this._elementImage=this._element.querySelector(this.config.imageSelector),this._elementName=this._element.querySelector(this.config.locationSelector),this._likesCounter=this._element.querySelector(this.config.likesCounterSelector),this._setEventListeners(),this._checkRemoveDelButton(),this._checkLiked(this._arrayOfLikes),this._isLiked&&this._toggleLike(),this._elementImage.src=this._link,this._elementImage.alt=this._name,this._elementName.textContent=this._name,this._setLikesNumber(this._arrayOfLikes),this._element}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e,t){"prepend"===t?this._container.prepend(e):"append"===t&&this._container.append(e)}},{key:"renderItem",value:function(e,t){this._renderer(e,t)}},{key:"renderItems",value:function(e,t){var n=this;e.forEach((function(e){n._renderer(e,t)}))}},{key:"deleteItem",value:function(e){e.remove()}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H,J=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),F(this,"_showInputError",(function(e,t){var n=r._formElement.querySelector("".concat(r._spanErrorSelector).concat(e.id));e.classList.add(r._inputErrorClass),n.textContent=t,n.classList.add(r._errorClass)})),F(this,"_hideInputError",(function(e){var t=r._formElement.querySelector("".concat(r._spanErrorSelector).concat(e.id));e.classList.remove(r._inputErrorClass),t.classList.remove(r._errorClass),t.textContent=""})),this._formElement=n,this._inputSelector=t.inputSelector,this._errorSelector=t.errorSelector,this._spanErrorSelector=t.spanErrorSelector,this._submitButtonSelector=t.submitButtonSelector,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._inactiveButtonClass=t.inactiveButtonClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),N={},z=new t({host:"https://mesto.nomoreparties.co/v1/cohort-47",token:"fecf0c0a-0938-47a0-bc3a-dfac6e5ffd59"}),M=new r({config:{nameSelector:".profile__name",aboutSelfSelector:".profile__about-self",profileImageSelector:".profile__image"},fetchUserInfo:function(e){return z.setUserInfo(e)},fetchUserAvatar:function(e){return z.setAvatar(e)}}),G=new v({popupSelector:".popup_contain_picture"}),K=new C({popupSelector:".popup_contain_edit-profile",handleFormSubmit:function(e){return M.setUserInfoOnServer(e)}}),Q=new C({popupSelector:".popup_contain_add-cards",handleFormSubmit:function(e){return z.addCard(e).then((function(e){return Y.renderItem(e,"prepend")})).catch((function(e){return console.log(e)}))}}),W=new C({popupSelector:".popup_contain_edit-avatar",handleFormSubmit:function(e){return M.setUserAvatarOnServer(e)}}),X=new q({popupSelector:".popup_contain_confirm",handleFormSubmit:function(e,t){z.deleteCard(e).then(Y.deleteItem(t))}}),Y=new D({renderer:function(e,t){var n=M.getUserId(),r=new B(e,a,n,Z,$,ee).generateCard();Y.addItem(r,t)}},".elements"),Z=function(e,t){G.open(e,t)},$=function(e,t){X.open(e,t)},ee=function(e,t){return z.toggleLike(e,t)};z.getUserInfo().then((function(e){M.setUserInfoOnClient(e),M.setUserAvatarOnClient(e),M.setUserId(e)})),z.getCards().then((function(e){Y.renderItems(e,"append")})),o.addEventListener("click",(function(){var e=M.getUserInfo();K.setinputValues(e),K.open(),N.editingForm.resetValidation()})),c.addEventListener("click",(function(){W.open(),N["edit-avatar"].resetValidation()})),i.addEventListener("click",(function(){Q.open(),N.addCards.resetValidation()})),G.setEventListeners(),K.setEventListeners(),Q.setEventListeners(),X.setEventListeners(),W.setEventListeners(),H={formSelector:".editing-form",inputSelector:".editing-form__input-line",errorSelector:".editing-form__input-error",spanErrorSelector:".editing-form__input-error_for_",submitButtonSelector:".editing-form__button",inputErrorClass:"editing-form__input-line_type_error",errorClass:"editing-form__input-error_active",inactiveButtonClass:"editing-form__button_inactive"},Array.from(document.querySelectorAll(H.formSelector)).forEach((function(e){var t=new J(H,e),n=e.getAttribute("name");N[n]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQWE0QixpQkFDNUIsSUFFRHhCLEVBQWV5QixvQkFDZnhCLEVBQXlCd0Isb0JBQ3pCckIsRUFBc0JxQixvQkFDdEJmLEVBQW9CZSxvQkFDcEJqQixFQUF3QmlCLG9CQW5ERXpMLEVQdEVNLENBQzlCd0IsYUFBYyxnQkFDZGdILGNBQWUsNEJBQ2ZFLGNBQWUsNkJBQ2ZDLGtCQUFtQixrQ0FDbkJFLHFCQUFzQix3QkFDdEJDLGdCQUFpQixzQ0FDakJDLFdBQVksbUNBQ1pFLG9CQUFxQixpQ08rREpwRixNQUFNQyxLQUFLM0QsU0FBUzRELGlCQUFpQi9ELEVBQU93QixlQUNwRDJDLFNBQVEsU0FBQzhELEdBQ2hCLElBQU15RCxFQUFZLElBQUkxRCxFQUFjaEksRUFBUWlJLEdBQ3RDMEQsRUFBVzFELEVBQVkyRCxhQUFhLFFBRTFDaEMsRUFBZStCLEdBQVlELEVBQzNCQSxFQUFVRyxrQkFDWCxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnQXBpKSB7XHJcbiAgICB0aGlzLl9ob3N0ID0gY29uZmlnQXBpLmhvc3Q7XHJcbiAgICB0aGlzLl90b2tlbiA9IGNvbmZpZ0FwaS50b2tlbjtcclxuICB9XHJcblxyXG4gIF9nZXRKc29uT3JFcnJvcihyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgX2dldEhlYWRlcnMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2hvc3R9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKClcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9ob3N0fS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKCksXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXRcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcclxuICB9XHJcblxyXG4gIHNldEF2YXRhcihkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5faG9zdH0vdXNlcnMvbWUvYXZhdGFyIGAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKCksXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXHJcbiAgICBcclxuICB9XHJcblxyXG4gIGdldENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2hvc3R9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKClcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcclxuICB9XHJcblxyXG4gIGFkZENhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2hvc3R9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycygpLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGRhdGEubGlua1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9ob3N0fS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKSxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB0b2dnbGVMaWtlKGlzTGlrZWQsIGNhcmRJZCkge1xyXG4gICAgbGV0IG1ldGhvZDtcclxuICAgIGlmIChpc0xpa2VkKSB7XHJcbiAgICAgIG1ldGhvZCA9ICdERUxFVEUnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWV0aG9kID0gJ1BVVCdcclxuICAgIH1cclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9ob3N0fS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogYCR7bWV0aG9kfWAsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMoKVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZywgZmV0Y2hVc2VySW5mbywgZmV0Y2hVc2VyQXZhdGFyIH0pIHtcclxuICAgIHRoaXMubmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLm5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuYWJvdXRTZWxmU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5wcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5wcm9maWxlSW1hZ2VTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmZldGNoVXNlckluZm8gPSBmZXRjaFVzZXJJbmZvO1xyXG4gICAgdGhpcy5mZXRjaFVzZXJBdmF0YXIgPSBmZXRjaFVzZXJBdmF0YXI7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB0aGlzLnVzZXJJbmZvID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLm5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLmFib3V0LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvT25DbGllbnQoZGF0YSkge1xyXG4gICAgdGhpcy5uYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5hYm91dC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mb09uU2VydmVyKGRhdGEpIHtcclxuICAgIHJldHVybiB0aGlzLmZldGNoVXNlckluZm8oZGF0YSlcclxuICAgIC50aGVuKChkYXRhSnNvbikgPT4ge1xyXG4gICAgICB0aGlzLnNldFVzZXJJbmZvT25DbGllbnQoZGF0YUpzb24pXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJBdmF0YXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9maWxlSW1hZ2Uuc3JjO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhck9uQ2xpZW50KGRhdGEpIHtcclxuICAgIHRoaXMucHJvZmlsZUltYWdlLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhck9uU2VydmVyKGRhdGEpIHtcclxuICAgIHJldHVybiB0aGlzLmZldGNoVXNlckF2YXRhcihkYXRhKVxyXG4gICAgLnRoZW4oKGRhdGFKc29uKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0VXNlckF2YXRhck9uQ2xpZW50KGRhdGFKc29uKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pZDtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJZChkYXRhKSB7XHJcbiAgICB0aGlzLmlkID0gZGF0YS5faWQ7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgY29uc3Qgb3BlbkVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBvcGVuQWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlJyk7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkQ29udGFpbmVyU2VsZWN0b3IgPSAnLmVsZW1lbnRzJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VTZWxlY3RvciA9ICcucG9wdXBfX2ltYWdlJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VDYXB0aW9uU2VsZWN0b3IgPSAnLnBvcHVwX19pbWFnZS1jYXB0aW9uJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwV2l0aEltYWdlU2VsZWN0b3IgPSAnLnBvcHVwX2NvbnRhaW5fcGljdHVyZSc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IgPSAnLnBvcHVwX2NvbnRhaW5fZWRpdC1wcm9maWxlJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEF2YXRhclNlbGVjdG9yID0gJy5wb3B1cF9jb250YWluX2VkaXQtYXZhdGFyJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQ2FyZHNTZWxlY3RvciA9ICcucG9wdXBfY29udGFpbl9hZGQtY2FyZHMnO1xyXG5leHBvcnQgY29uc3QgcG9wdXBXaXRoQ29uZmlybVNlbGVjdG9yID0gJy5wb3B1cF9jb250YWluX2NvbmZpcm0nO1xyXG5leHBvcnQgY29uc3QgZm9ybVNlbGVjdG9yID0gJy5lZGl0aW5nLWZvcm0nO1xyXG5leHBvcnQgY29uc3QgaW5wdXRTZWxlY3RvciA9ICcuZWRpdGluZy1mb3JtX19pbnB1dC1saW5lJztcclxuZXhwb3J0IGNvbnN0IGJ1dHRvblN1Ym1pdFNlbGVjdG9yID0gJy5lZGl0aW5nLWZvcm1fX2J1dHRvbic7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZ1Byb2ZpbGUgPSB7XHJcbiAgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxyXG4gIGFib3V0U2VsZlNlbGVjdG9yOiAnLnByb2ZpbGVfX2Fib3V0LXNlbGYnLFxyXG4gIHByb2ZpbGVJbWFnZVNlbGVjdG9yOiAnLnByb2ZpbGVfX2ltYWdlJyxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZ0NhcmQgPSB7XHJcbiAgY2FyZFRlbXBsYXRlU2VsZWN0b3I6ICcjY2FyZC10ZW1wbGF0ZScsXHJcbiAgY29udGVudFRlbXBsYXRlU2VsZWN0b3I6ICcuZWxlbWVudHNfX2VsZW1lbnQnLFxyXG4gIGJ1dHRvbkxpa2VTZWxlY3RvcjogJy5lbGVtZW50c19fYnV0dG9uLWxpa2UnLFxyXG4gIGxpa2VzQ291bnRlclNlbGVjdG9yOiAnLmVsZW1lbnRzX19saWtlcy1jb3VudGVyJyxcclxuICBidXR0b25EZWxldGVTZWxlY3RvcjogJy5lbGVtZW50c19fYnV0dG9uLWRlbGV0ZScsXHJcbiAgaW1hZ2VTZWxlY3RvcjogJy5lbGVtZW50c19faW1hZ2UnLFxyXG4gIGxvY2F0aW9uU2VsZWN0b3I6ICcuZWxlbWVudHNfX2xvY2F0aW9uJyxcclxuICBidXR0b25MaWtlQWN0aXZlQ2xhc3M6ICdlbGVtZW50c19fYnV0dG9uLWxpa2VfYWN0aXZlJyxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZ0FwaSA9IHtcclxuICBob3N0OiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00NycsXHJcbiAgdG9rZW46ICdmZWNmMGMwYS0wOTM4LTQ3YTAtYmMzYS1kZmFjNmU1ZmZkNTknXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWdWYWxpZGF0aW9uID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5lZGl0aW5nLWZvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcuZWRpdGluZy1mb3JtX19pbnB1dC1saW5lJyxcclxuICBlcnJvclNlbGVjdG9yOiAnLmVkaXRpbmctZm9ybV9faW5wdXQtZXJyb3InLFxyXG4gIHNwYW5FcnJvclNlbGVjdG9yOiAnLmVkaXRpbmctZm9ybV9faW5wdXQtZXJyb3JfZm9yXycsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZWRpdGluZy1mb3JtX19idXR0b24nLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ2VkaXRpbmctZm9ybV9faW5wdXQtbGluZV90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAnZWRpdGluZy1mb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdlZGl0aW5nLWZvcm1fX2J1dHRvbl9pbmFjdGl2ZScsXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3Ioe3BvcHVwU2VsZWN0b3J9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBPcGVuQ2xhc3MgPSAncG9wdXBfb3BlbmVkJztcclxuICAgIHRoaXMub3BlbiA9IHRoaXMub3Blbi5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2J1dHRvbkNMb3NlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlLWJ1dHRvbicpXHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fcG9wdXBPcGVuQ2xhc3MpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fcG9wdXBPcGVuQ2xhc3MpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2dCA9PiB7XHJcbiAgICAgIGlmICgoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpXHJcbiAgICAgICAgfHwgKGV2dC50YXJnZXQgPT09IHRoaXMuX2J1dHRvbkNMb3NlRWxlbWVudCkpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufSIsImltcG9ydCB7cG9wdXBJbWFnZVNlbGVjdG9yLCBwb3B1cEltYWdlQ2FwdGlvblNlbGVjdG9yfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnXHJcbmltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yfSkge1xyXG4gICAgc3VwZXIoe3BvcHVwU2VsZWN0b3J9KTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwSW1hZ2VTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jYXB0aW9uRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwSW1hZ2VDYXB0aW9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fY2FwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IGZvcm1TZWxlY3RvciwgaW5wdXRTZWxlY3RvciwgYnV0dG9uU3VibWl0U2VsZWN0b3J9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3Ioe3BvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXR9KSB7XHJcbiAgICBzdXBlcih7cG9wdXBTZWxlY3Rvcn0pO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYnV0dG9uU3VibWl0U2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYnV0dG9uSW5pdGlhbFRleHQgPSB0aGlzLl9idXR0b25TdWJtaXQudGV4dENvbnRlbnRcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2lucHV0VmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0VmFsdWUgPSBpbnB1dEVsZW1lbnQudmFsdWU7XHJcbiAgICAgIGNvbnN0IGlucHV0TmFtZSA9IGlucHV0RWxlbWVudC5uYW1lO1xyXG4gICAgICB0aGlzLl9pbnB1dFZhbHVlc1tpbnB1dE5hbWVdID0gaW5wdXRWYWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0aW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSBkYXRhW2lucHV0RWxlbWVudC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uU3VibWl0LnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdC50ZXh0Q29udGVudCA9IHRoaXMuX2J1dHRvbkluaXRpYWxUZXh0O1xyXG4gICAgfVxyXG4gIH0gXHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgZm9ybVNlbGVjdG9yIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5faWQsIHRoaXMuX2NhcmRFbGVtZW50KTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvcGVuKGlkLCBjYXJkRWxlbWVudCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcclxuICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoaXRlbSwgY29uZmlnQ2FyZCwgdXNlcklkLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUNhcmQsIHRvZ2dsZUxpa2VTZXJ2ZXIpIHtcclxuICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbms7XHJcbiAgICB0aGlzLl9uYW1lID0gaXRlbS5uYW1lO1xyXG4gICAgdGhpcy5fYXJyYXlPZkxpa2VzID0gaXRlbS5saWtlcztcclxuICAgIHRoaXMuX2NhcmRJZCA9IGl0ZW0uX2lkO1xyXG4gICAgdGhpcy5jb25maWcgPSBjb25maWdDYXJkXHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9jYXJkT3duZXJJZCA9IGl0ZW0ub3duZXIuX2lkO1xyXG4gICAgXHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICAgIHRoaXMuX3RvZ2dsZUxpa2VTZXJ2ZXIgPSB0b2dnbGVMaWtlU2VydmVyO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5jYXJkVGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5jb25maWcuY29udGVudFRlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUxpa2UoKSB7XHJcbiAgICB0aGlzLl9idXR0b25MaWtlLmNsYXNzTGlzdC50b2dnbGUodGhpcy5jb25maWcuYnV0dG9uTGlrZUFjdGl2ZUNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2NhcmRJZCwgdGhpcy5fZWxlbWVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9idXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl90b2dnbGVMaWtlU2VydmVyKHRoaXMuX2lzTGlrZWQsIHRoaXMuX2NhcmRJZClcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fY2hlY2tMaWtlZChkYXRhLmxpa2VzKTtcclxuICAgICAgICAgIHRoaXMuX3RvZ2dsZUxpa2UoKTtcclxuICAgICAgICAgIHRoaXMuX3NldExpa2VzTnVtYmVyKGRhdGEubGlrZXMpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4geyBjb25zb2xlLmxvZyhlcnIpIH0pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zZXRMaWtlc051bWJlcihhcnIpIHtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IGFyci5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tMaWtlZChhcnJheSkge1xyXG4gICAgdGhpcy5faXNMaWtlZCA9IGFycmF5LnNvbWUoKGl0ZW0pID0+IHtcclxuICAgICAgcmV0dXJuIGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9jaGVja1JlbW92ZURlbEJ1dHRvbigpIHtcclxuICAgIGlmICh0aGlzLl9jYXJkT3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5yZW1vdmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fYnV0dG9uTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5idXR0b25MaWtlU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYnV0dG9uRGVsZXRlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuY29uZmlnLmJ1dHRvbkRlbGV0ZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5pbWFnZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2VsZW1lbnROYW1lID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuY29uZmlnLmxvY2F0aW9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuY29uZmlnLmxpa2VzQ291bnRlclNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fY2hlY2tSZW1vdmVEZWxCdXR0b24oKTtcclxuICAgIHRoaXMuX2NoZWNrTGlrZWQodGhpcy5fYXJyYXlPZkxpa2VzKTtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7IHRoaXMuX3RvZ2dsZUxpa2UoKSB9O1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3NldExpa2VzTnVtYmVyKHRoaXMuX2FycmF5T2ZMaWtlcyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50LCBtZXRob2QpIHtcclxuICAgIGlmIChtZXRob2QgPT09ICdwcmVwZW5kJykge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSAnYXBwZW5kJykge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtKGl0ZW0sIG1ldGhvZCkgeyBcclxuICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0sIG1ldGhvZCk7XHJcbn1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMsIG1ldGhvZCkge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtLCBtZXRob2QpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVJdGVtKGVsZW1lbnQpIHtcclxuICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJ1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzLmpzJ1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5cclxuaW1wb3J0IHtcclxuICBvcGVuRWRpdFByb2ZpbGVCdXR0b24sXHJcbiAgb3BlbkFkZENhcmRCdXR0b24sXHJcbiAgYXZhdGFyRWxlbWVudCxcclxuICBjb25maWdWYWxpZGF0aW9uLFxyXG4gIGNvbmZpZ0FwaSxcclxuICBjb25maWdDYXJkLFxyXG4gIGNvbmZpZ1Byb2ZpbGUsXHJcbiAgY2FyZENvbnRhaW5lclNlbGVjdG9yLFxyXG4gIHBvcHVwV2l0aEltYWdlU2VsZWN0b3IsXHJcbiAgcG9wdXBFZGl0UHJvZmlsZVNlbGVjdG9yLFxyXG4gIHBvcHVwRWRpdEF2YXRhclNlbGVjdG9yLFxyXG4gIHBvcHVwQWRkQ2FyZHNTZWxlY3RvcixcclxuICBwb3B1cFdpdGhDb25maXJtU2VsZWN0b3IsXHJcbn0gZnJvbSAnLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fVxyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaShjb25maWdBcGkpO1xyXG5cclxuLy8g0Y3QutC3LiDQutC70LDRgdGB0LAg0LjQvdGE0L7RgNC80LDRhtGG0LjQuCDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgY29uZmlnOiBjb25maWdQcm9maWxlLFxyXG4gIGZldGNoVXNlckluZm86IChkYXRhKSA9PiB7XHJcbiAgICByZXR1cm4gYXBpLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gIH0sXHJcbiAgZmV0Y2hVc2VyQXZhdGFyOiAoZGF0YSkgPT4ge1xyXG4gICAgcmV0dXJuIGFwaS5zZXRBdmF0YXIoZGF0YSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyDRjdC60LcuINC60LvQsNGB0YHQsCDQvtC60L3QsCDQv9GA0L7RgdC80L7RgtGA0LAg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHsgcG9wdXBTZWxlY3RvcjogcG9wdXBXaXRoSW1hZ2VTZWxlY3RvciB9KTtcclxuXHJcbi8vINGN0LrQty4g0LrQu9Cw0YHRgdCwINC+0LrQvdCwINGBINGE0L7RgNC80L7QuSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGZvcm1EYXRhKSA9PiB7XHJcbiAgICByZXR1cm4gdXNlckluZm8uc2V0VXNlckluZm9PblNlcnZlcihmb3JtRGF0YSlcclxuICB9XHJcbn0pO1xyXG5cclxuLy8g0Y3QutC3LiDQutC70LDRgdGB0LAg0L7QutC90LAg0YEg0YTQvtGA0LzQvtC5INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C10LpcclxuY29uc3QgcG9wdXBXaXRoRm9ybUFkZENhcmRzID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IHBvcHVwQWRkQ2FyZHNTZWxlY3RvcixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcclxuICAgIHJldHVybiBhcGkuYWRkQ2FyZChmb3JtRGF0YSlcclxuICAgICAgLnRoZW4oZGF0YUpzb24gPT4gY2FyZExpc3QucmVuZGVySXRlbShkYXRhSnNvbiwgJ3ByZXBlbmQnKSlcclxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gIH1cclxufSk7XHJcblxyXG4vLyDRjdC60LcuINC60LvQsNGB0YHQsCDQvtC60L3QsCDRgSDRhNC+0YDQvNC+0Lkg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5jb25zdCBwb3B1cFdpdGhGb3JtRWRpdEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBwb3B1cEVkaXRBdmF0YXJTZWxlY3RvcixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcclxuICAgIHJldHVybiB1c2VySW5mby5zZXRVc2VyQXZhdGFyT25TZXJ2ZXIoZm9ybURhdGEpXHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINGN0LrQty4g0LrQu9Cw0YHRgdCwINC+0LrQvdCwINGBINC/0L7QtNGC0LLQtdGA0LbQtdC90LjQtdC8INGD0LTQsNC70LXQvdC40Y9cclxuY29uc3QgcG9wdXBXaXRoQ29uZmlybURlbCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IHBvcHVwV2l0aENvbmZpcm1TZWxlY3RvcixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoY2FyZElkLCBlbGVtZW50KSA9PiB7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgIC50aGVuKGNhcmRMaXN0LmRlbGV0ZUl0ZW0oZWxlbWVudCkpXHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINGN0LrQty4g0LrQu9Cw0YHRgdCwIFNlY3Rpb24g0LTQu9GPINC+0YLRgNC40YHQvtCy0LrQuCDQutCw0YDRgtC+0YfQtdC6XHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gIHJlbmRlcmVyOiAoaXRlbSwgbWV0aG9kKSA9PiB7XHJcbiAgICBjb25zdCB1c2VySWQgPSB1c2VySW5mby5nZXRVc2VySWQoKTtcclxuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgaXRlbSxcclxuICAgICAgY29uZmlnQ2FyZCxcclxuICAgICAgdXNlcklkLFxyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICAgIGhhbmRsZURlbGV0ZUNhcmQsXHJcbiAgICAgIGhhbmRsZUJ0bkxpa2UpO1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCwgbWV0aG9kKTtcclxuICB9XHJcbn0sIGNhcmRDb250YWluZXJTZWxlY3Rvcik7XHJcblxyXG4vLyDQvtCx0YDQsNCx0L7RgtCw0YLRjCDQutC70LjQuiDQv9C+INC40LfQvtCx0YDQsNC20LXQvdC40Y4g0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAobmFtZSwgbGluaykgPT4ge1xyXG4gIHBvcHVwV2l0aEltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcbi8vINC+0LHRgNCw0LHQvtGC0LDRgtGMINC60LvQuNC6INC/0L4g0LjQutC+0L3QutC1INGD0LTQsNC70LXQvdC40Y9cclxuY29uc3QgaGFuZGxlRGVsZXRlQ2FyZCA9IChjYXJkSWQsIGNhcmRFbGVtZW50KSA9PiB7XHJcbiAgcG9wdXBXaXRoQ29uZmlybURlbC5vcGVuKGNhcmRJZCwgY2FyZEVsZW1lbnQpO1xyXG59XHJcblxyXG4vLyDQvtCx0YDQsNCx0L7RgtCw0YLRjCDQutC70LjQuiDQv9C+INC40LrQvtC90LrQtSDQu9Cw0LnQutCwXHJcbmNvbnN0IGhhbmRsZUJ0bkxpa2UgPSAoY2FyZElkLCBpc0xpa2VkKSA9PiB7XHJcbiAgcmV0dXJuIGFwaS50b2dnbGVMaWtlKGNhcmRJZCwgaXNMaWtlZCk7XHJcbn1cclxuXHJcbi8vINCy0LrQu9GO0YfQuNGC0Ywg0LLQu9C40LTQsNGG0LjRjiDQtNC70Y8g0LLRgdC10YUg0YTQvtGA0LxcclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSlcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudClcclxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XHJcblxyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufVxyXG5cclxuLy8g0LfQsNCz0YDRg9C30LjRgtGMINC4INC+0YLQvtCx0YDQsNC30LjRgtGMINC00LDQvdC90YvQtSDQv9GA0L7RhNC40LvRj1xyXG5hcGkuZ2V0VXNlckluZm8oKVxyXG4gIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mb09uQ2xpZW50KGRhdGEpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckF2YXRhck9uQ2xpZW50KGRhdGEpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlcklkKGRhdGEpO1xyXG4gIH0pXHJcblxyXG4vLyDQt9Cw0LPRgNGD0LfQuNGC0Ywg0Lgg0L7RgtC+0LHRgNCw0LfQuNGC0Ywg0LrQsNGA0YLQvtGH0LrQuFxyXG5hcGkuZ2V0Q2FyZHMoKVxyXG4gIC50aGVuKChjYXJkcykgPT4ge1xyXG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoY2FyZHMsICdhcHBlbmQnKTtcclxuICB9KVxyXG5cclxuLy8gKi0tLS0tLS0tLS0tLS0tLS0tLS3QodC70YPRiNCw0YLQtdC70Lgg0YHQvtCx0YvRgtC40LktLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8g0L7RgtC60YDRi9GC0LjQtSDRhNC+0YDQvNGLINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxub3BlbkVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGNvbnN0IGRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZS5zZXRpbnB1dFZhbHVlcyhkYXRhKTtcclxuICBwb3B1cFdpdGhGb3JtRWRpdFByb2ZpbGUub3BlbigpO1xyXG4gIGZvcm1WYWxpZGF0b3JzWydlZGl0aW5nRm9ybSddLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbi8vINC+0YLQutGA0YvRgtC40LUg0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmF2YXRhckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBXaXRoRm9ybUVkaXRBdmF0YXIub3BlbigpXHJcbiAgZm9ybVZhbGlkYXRvcnNbJ2VkaXQtYXZhdGFyJ10ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuLy8g0L7RgtC60YDRi9GC0LjQtSDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C10Lpcclxub3BlbkFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBXaXRoRm9ybUFkZENhcmRzLm9wZW4oKVxyXG4gIGZvcm1WYWxpZGF0b3JzWydhZGRDYXJkcyddLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFdpdGhGb3JtQWRkQ2FyZHMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBXaXRoQ29uZmlybURlbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cFdpdGhGb3JtRWRpdEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZ1ZhbGlkYXRpb24pOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGRhdGEuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2Vycm9yU2VsZWN0b3IgPSBkYXRhLmVycm9yU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zcGFuRXJyb3JTZWxlY3RvciA9IGRhdGEuc3BhbkVycm9yU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGRhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBkYXRhLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBkYXRhLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5XHJcbiAgICAgIC5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvLyDRgdCx0YDQvtGBINC+0YjQuNCx0L7QulxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDQv9C+0LrQsNC30LDRgtGMINC+0YjQuNCx0LrRg1xyXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl9zcGFuRXJyb3JTZWxlY3Rvcn0ke2lucHV0RWxlbWVudC5pZH1gKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICAvLyDRgdC60YDRi9GC0Ywg0L7RiNC40LHQutGDXHJcbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl9zcGFuRXJyb3JTZWxlY3Rvcn0ke2lucHV0RWxlbWVudC5pZH1gKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gIH07XHJcblxyXG4gIC8vINC/0YDQvtCy0LXRgNC40YLRjCDQstCw0LvQuNC00L3QvtGB0YLRjCDQv9C+0LvRjyDQstCy0L7QtNCwXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8g0L/RgNC+0LLQtdGA0LjRgtGMINCy0LDQu9C40LTQvdC+0YHRgtGMINC80LDRgdGB0LjQstCwINC/0L7Qu9C10Lkg0LLQstC+0LTQsFxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoaW5wdXRFbGVtZW50ID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vINCw0LrRgtC40LLQsNGG0LjRjyDQuCDQtNC10LfQsNC60YLQuNCy0LDRhtC40Y8g0LrQvdC+0L/QutC4INC+0YLQv9GA0LDQstC60Lgg0YTQvtGA0LzRi1xyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQtNC+0LHQsNCy0LjRgtGMINGB0LvRg9GI0LDRgtC10LvQuCDQstCy0L7QtNCwXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8g0LDQutGC0LjQstC40YDQvtCy0YLRjCDQstCw0LvQuNC00LDRhtC40Y5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiQXBpIiwiY29uZmlnQXBpIiwidGhpcyIsIl9ob3N0IiwiaG9zdCIsIl90b2tlbiIsInRva2VuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImF1dGhvcml6YXRpb24iLCJmZXRjaCIsImhlYWRlcnMiLCJfZ2V0SGVhZGVycyIsInRoZW4iLCJfZ2V0SnNvbk9yRXJyb3IiLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwiYWJvdXQiLCJhdmF0YXIiLCJsaW5rIiwiY2FyZElkIiwiaXNMaWtlZCIsIlVzZXJJbmZvIiwiY29uZmlnIiwiZmV0Y2hVc2VySW5mbyIsImZldGNoVXNlckF2YXRhciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZlNlbGVjdG9yIiwicHJvZmlsZUltYWdlIiwicHJvZmlsZUltYWdlU2VsZWN0b3IiLCJ1c2VySW5mbyIsInRleHRDb250ZW50IiwiZGF0YUpzb24iLCJzZXRVc2VySW5mb09uQ2xpZW50IiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic3JjIiwic2V0VXNlckF2YXRhck9uQ2xpZW50IiwiaWQiLCJfaWQiLCJvcGVuRWRpdFByb2ZpbGVCdXR0b24iLCJvcGVuQWRkQ2FyZEJ1dHRvbiIsImF2YXRhckVsZW1lbnQiLCJmb3JtU2VsZWN0b3IiLCJjb25maWdDYXJkIiwiY2FyZFRlbXBsYXRlU2VsZWN0b3IiLCJjb250ZW50VGVtcGxhdGVTZWxlY3RvciIsImJ1dHRvbkxpa2VTZWxlY3RvciIsImxpa2VzQ291bnRlclNlbGVjdG9yIiwiYnV0dG9uRGVsZXRlU2VsZWN0b3IiLCJpbWFnZVNlbGVjdG9yIiwibG9jYXRpb25TZWxlY3RvciIsImJ1dHRvbkxpa2VBY3RpdmVDbGFzcyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfcG9wdXBPcGVuQ2xhc3MiLCJvcGVuIiwiYmluZCIsImNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2J1dHRvbkNMb3NlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlRWxlbWVudCIsIl9jYXB0aW9uRWxlbWVudCIsImFsdCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25TdWJtaXQiLCJfYnV0dG9uSW5pdGlhbFRleHQiLCJfaW5wdXRWYWx1ZXMiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiaW5wdXRWYWx1ZSIsInZhbHVlIiwiaW5wdXROYW1lIiwicHJldmVudERlZmF1bHQiLCJyZW5kZXJMb2FkaW5nIiwicmVzb2x2ZSIsIl9nZXRJbnB1dFZhbHVlcyIsImZpbmFsbHkiLCJpc0xvYWRpbmciLCJyZXNldCIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsIl9jYXJkRWxlbWVudCIsImNhcmRFbGVtZW50IiwiQ2FyZCIsIml0ZW0iLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwidG9nZ2xlTGlrZVNlcnZlciIsIl9saW5rIiwiX25hbWUiLCJfYXJyYXlPZkxpa2VzIiwibGlrZXMiLCJfY2FyZElkIiwiX3VzZXJJZCIsIl9jYXJkT3duZXJJZCIsIm93bmVyIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX3RvZ2dsZUxpa2VTZXJ2ZXIiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2J1dHRvbkxpa2UiLCJ0b2dnbGUiLCJfZWxlbWVudEltYWdlIiwiX2J1dHRvbkRlbGV0ZSIsIl9lbGVtZW50IiwiX2lzTGlrZWQiLCJfY2hlY2tMaWtlZCIsIl90b2dnbGVMaWtlIiwiX3NldExpa2VzTnVtYmVyIiwiYXJyIiwiX2xpa2VzQ291bnRlciIsImxlbmd0aCIsImFycmF5Iiwic29tZSIsIl9nZXRUZW1wbGF0ZSIsIl9lbGVtZW50TmFtZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jaGVja1JlbW92ZURlbEJ1dHRvbiIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiYXBwZW5kIiwiaXRlbXMiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfc3BhbkVycm9yU2VsZWN0b3IiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfZXJyb3JTZWxlY3RvciIsImVycm9yU2VsZWN0b3IiLCJzcGFuRXJyb3JTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9idXR0b25FbGVtZW50IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2hpZGVJbnB1dEVycm9yIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImZvcm1WYWxpZGF0b3JzIiwiYXBpIiwic2V0VXNlckluZm8iLCJzZXRBdmF0YXIiLCJwb3B1cFdpdGhJbWFnZSIsInBvcHVwV2l0aEZvcm1FZGl0UHJvZmlsZSIsImZvcm1EYXRhIiwic2V0VXNlckluZm9PblNlcnZlciIsInBvcHVwV2l0aEZvcm1BZGRDYXJkcyIsImFkZENhcmQiLCJjYXJkTGlzdCIsInJlbmRlckl0ZW0iLCJwb3B1cFdpdGhGb3JtRWRpdEF2YXRhciIsInNldFVzZXJBdmF0YXJPblNlcnZlciIsInBvcHVwV2l0aENvbmZpcm1EZWwiLCJkZWxldGVDYXJkIiwiZGVsZXRlSXRlbSIsImdldFVzZXJJZCIsImhhbmRsZUJ0bkxpa2UiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwidG9nZ2xlTGlrZSIsImdldFVzZXJJbmZvIiwic2V0VXNlcklkIiwiZ2V0Q2FyZHMiLCJjYXJkcyIsInJlbmRlckl0ZW1zIiwic2V0aW5wdXRWYWx1ZXMiLCJyZXNldFZhbGlkYXRpb24iLCJzZXRFdmVudExpc3RlbmVycyIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=